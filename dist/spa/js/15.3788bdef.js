(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"3a5e":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},a=[],s=i("2a19");let r=null,n=null;var c={openNotify(){r=s["a"].create({color:"primary",spinner:!0,message:"Por favor aguarde...",timeout:0})},openSuccess(e){n=s["a"].create({color:"green",spinner:!1,message:e,timeout:3e3})},closeNotify(){r()},closeSuccess(){n()}},l=c,d=i("2877"),u=Object(d["a"])(l,o,a,!1,null,null,null);t["a"]=u.exports},"3fb9":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},a=[],s=i("2a19");let r=null;var n={openNotify(e,t=0){r=s["a"].create({type:"negative",message:e,timeout:t})},closeNotify(){r()}},c=n,l=i("2877"),d=Object(l["a"])(c,o,a,!1,null,null,null);t["a"]=d.exports},bf83:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"col-12 col-md-6 q-pa-md q-pb-lg"},[i("q-card",{staticStyle:{"margin-bottom":"40px"}},[i("q-card-section",[i("div",{staticClass:"text-h6 q-mb-sm"},[e._v("Serviços e portfólio da empresa")]),i("list-services",{attrs:{services:e.services},on:{updateServiceList:e.updateServicesList}})],1),i("q-card-section",[i("q-btn",{staticClass:"glossy q-ma-md absolute-bottom-right",attrs:{color:"primary",icon:"add",round:"",type:"submit"},on:{click:function(t){e.openAdd=!0}}})],1),i("div",[i("q-dialog",{ref:"model",model:{value:e.openAdd,callback:function(t){e.openAdd=t},expression:"openAdd"}},[i("add-service",{on:{serviceCreated:e.updateServicesList}})],1)],1)],1)],1)])},a=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Adicionar serviço")])]),i("q-form",{on:{submit:e.onSubmit}},[i("q-card-section",{staticClass:"q-pt-none"},[i("q-file",{attrs:{accept:".pdf, .jpeg, .png, .jpg, .pdf",filled:"",label:"Carregue um PDF ou uma foto com os seus serviços","max-file-size":"3000000",name:"poster_file","use-chips":""},on:{rejected:e.onRejectedFile},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"attachment"}})]},proxy:!0}]),model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),i("q-input",{staticClass:"q-mt-lg",attrs:{rules:[function(e){return null!==e&&""!==e||"Campo obrigatório"}],filled:"",label:"Título ou descrição","lazy-rules":"",type:"text"},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"description"}})]},proxy:!0}]),model:{value:e.service.title,callback:function(t){e.$set(e.service,"title",t)},expression:"service.title"}})],1),i("q-card-section",[i("q-btn",{attrs:{color:"primary",label:"Guardar",type:"submit"}})],1)],1)],1)},r=[],n=i("3fb9"),c=i("3a5e"),l={props:{option:{type:Boolean,default:!1}},data(){return{file:null,service:{title:"",file:""},options:this.option}},methods:{onSubmit(){console.log("DOne");let e=new FormData;e.append("title",this.service.title),e.append("file",this.file),this.$axios.post("/service",e).then((e=>{c["a"].openSuccess("Serviço criado com sucesso",5e3),this.$emit("serviceCreated"),console.log(e)})).catch((e=>{n["a"].openNotify("Houve um erro ao tentar criar serviço",4e3),console.log(e)}))},onRejectedFile(){n["a"].openNotify("Imagem ou Documento PDF deve ter menos de 3MB",5e3)}},computed:{$_options:{get:function(){return this.option},set:function(e){this.$emit("update-options",e)}}}},d=l,u=i("2877"),p=i("f09f"),m=i("a370"),v=i("0378"),f=i("7d53"),h=i("0016"),b=i("27f9"),q=i("9c40"),g=i("eebe"),S=i.n(g),y=Object(u["a"])(d,s,r,!1,null,null,null),_=y.exports;S()(y,"components",{QCard:p["a"],QCardSection:m["a"],QForm:v["a"],QFile:f["a"],QIcon:h["a"],QInput:b["a"],QBtn:q["a"]});var x=i("db5a"),C={components:{AddService:_,ListServices:x["a"]},data(){return{openAdd:!1,services:[]}},methods:{updateServicesList(){this.openAdd=!1,this.$axios.get("/service").then((e=>{this.services=e.data}))}},mounted(){this.updateServicesList()}},Q=C,$=i("24e8"),k=Object(u["a"])(Q,o,a,!1,null,null,null);t["default"]=k.exports;S()(k,"components",{QCard:p["a"],QCardSection:m["a"],QBtn:q["a"],QDialog:$["a"]})},db5a:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("q-list",{staticClass:"rounded-borders q-mb-lg",attrs:{bordered:"",padding:""}},e._l(e.services,(function(t){return i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,attrs:{clickable:""},on:{click:function(i){return e.goOutside(t.photo?e.$apiPath+t.photo:e.$apiPath+t.pdf_booklet)}}},[i("q-item-section",{attrs:{avatar:"",top:""}},[i("q-avatar",{attrs:{color:"primary",icon:"camera","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(t.title))]),i("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.photo?"Imagem":"Booklet"))])],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{attrs:{color:"red",name:"delete"},on:{click:function(i){return e.deleteService(t)}}})],1)],1)})),1),i("q-dialog",{model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[i("confirm-delete-service-dialog",{attrs:{service:e.serviceSelected},on:{updateServiceList:function(t){return e.reactToEvent()}}})],1)],1)},a=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-card",[i("q-card-section",{staticClass:"row items-center"},[i("q-avatar",{attrs:{icon:"delete",color:"primary","text-color":"white"}}),i("span",{staticClass:"q-ml-sm"},[e._v("Confirme que quer apagar o serviço "+e._s(e.service.title)+"? ")])],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{flat:"",label:"Sim",color:"primary"},on:{click:e.deleteVehicle}}),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Não",color:"primary"}})],1)],1)},r=[],n=i("3a5e"),c=i("3fb9"),l={props:["service"],methods:{emitEvent(){this.$emit("updateServiceList")},deleteVehicle(){this.$axios.delete("service/"+this.service.id).then((e=>{this.emitEvent(),n["a"].openSuccess("Serviço apagado com sucesso",4e3)})).catch((e=>{c["a"].openNotify("Houve um erro ao tentar apagar o serviço",5e3)}))}}},d=l,u=i("2877"),p=i("f09f"),m=i("a370"),v=i("cb32"),f=i("4b7e"),h=i("9c40"),b=i("7f67"),q=i("eebe"),g=i.n(q),S=Object(u["a"])(d,s,r,!1,null,null,null),y=S.exports;g()(S,"components",{QCard:p["a"],QCardSection:m["a"],QAvatar:v["a"],QCardActions:f["a"],QBtn:h["a"]}),g()(S,"directives",{ClosePopup:b["a"]});var _={props:["services"],components:{ConfirmDeleteServiceDialog:y},data(){return{serviceSelected:{},confirm:!1}},methods:{goOutside(e){location.href=e},deleteService(e){this.confirm=!0,this.serviceSelected=e},reactToEvent(){this.$emit("updateServiceList"),this.confirm=!1,console.log("emitted")}}},x=_,C=i("1c1c"),Q=i("66e5"),$=i("4074"),k=i("0170"),w=i("0016"),j=i("24e8"),A=i("714f"),L=Object(u["a"])(x,o,a,!1,null,null,null);t["a"]=L.exports;g()(L,"components",{QList:C["a"],QItem:Q["a"],QItemSection:$["a"],QAvatar:v["a"],QItemLabel:k["a"],QIcon:w["a"],QDialog:j["a"]}),g()(L,"directives",{Ripple:A["a"]})}}]);