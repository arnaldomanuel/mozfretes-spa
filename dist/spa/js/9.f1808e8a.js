(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"0dce":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"my-card"},[a("q-card-section",[a("div",{staticClass:"text-h5"},[e._v("Gestão de viajens")]),a("div",{staticClass:"text-subtitle2"},[e._v("Se possui algum camião vago, registe-o aqui junto do percurso que vai seguir")])]),a("q-card-section",{staticClass:"q-pt-none"},[[a("div",{},[a("q-btn",{staticClass:"q-mr-lg",attrs:{to:"/viagem/criar",color:"secondary",label:"Criar",icon:"add"}}),a("q-btn",{staticClass:"q-mr-lg",attrs:{to:"/viagem",color:"secondary",label:"Listar",icon:"visibility"}}),a("q-btn",{staticClass:"q-mr-lg",attrs:{to:"/viagem?news=novo",color:"secondary",label:"Listar novos",icon:"visibility"}})],1)]],2)],1)],1)},o=[],s={},r=s,c=a("2877"),n=a("f09f"),l=a("a370"),u=a("9c40"),g=a("eebe"),m=a.n(g),d=Object(c["a"])(r,i,o,!1,null,null,null);t["a"]=d.exports;m()(d,"components",{QCard:n["a"],QCardSection:l["a"],QBtn:u["a"]})},3357:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggc3R5bGU9ImZpbGw6IzRDQUY1MDsiIGQ9Ik0yNTYuMDY0LDBoLTAuMTI4bDAsMEMxMTQuNzg0LDAsMCwxMTQuODE2LDAsMjU2YzAsNTYsMTguMDQ4LDEwNy45MDQsNDguNzM2LDE1MC4wNDhsLTMxLjkwNCw5NS4xMDQNCglsOTguNC0zMS40NTZDMTU1LjcxMiw0OTYuNTEyLDIwNCw1MTIsMjU2LjA2NCw1MTJDMzk3LjIxNiw1MTIsNTEyLDM5Ny4xNTIsNTEyLDI1NlMzOTcuMjE2LDAsMjU2LjA2NCwweiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0ZBRkFGQTsiIGQ9Ik00MDUuMDI0LDM2MS41MDRjLTYuMTc2LDE3LjQ0LTMwLjY4OCwzMS45MDQtNTAuMjQsMzYuMTI4Yy0xMy4zNzYsMi44NDgtMzAuODQ4LDUuMTItODkuNjY0LTE5LjI2NA0KCUMxODkuODg4LDM0Ny4yLDE0MS40NCwyNzAuNzUyLDEzNy42NjQsMjY1Ljc5MmMtMy42MTYtNC45Ni0zMC40LTQwLjQ4LTMwLjQtNzcuMjE2czE4LjY1Ni01NC42MjQsMjYuMTc2LTYyLjMwNA0KCWM2LjE3Ni02LjMwNCwxNi4zODQtOS4xODQsMjYuMTc2LTkuMTg0YzMuMTY4LDAsNi4wMTYsMC4xNiw4LjU3NiwwLjI4OGM3LjUyLDAuMzIsMTEuMjk2LDAuNzY4LDE2LjI1NiwxMi42NA0KCWM2LjE3NiwxNC44OCwyMS4yMTYsNTEuNjE2LDIzLjAwOCw1NS4zOTJjMS44MjQsMy43NzYsMy42NDgsOC44OTYsMS4wODgsMTMuODU2Yy0yLjQsNS4xMi00LjUxMiw3LjM5Mi04LjI4OCwxMS43NDQNCgljLTMuNzc2LDQuMzUyLTcuMzYsNy42OC0xMS4xMzYsMTIuMzUyYy0zLjQ1Niw0LjA2NC03LjM2LDguNDE2LTMuMDA4LDE1LjkzNmM0LjM1Miw3LjM2LDE5LjM5MiwzMS45MDQsNDEuNTM2LDUxLjYxNg0KCWMyOC41NzYsMjUuNDQsNTEuNzQ0LDMzLjU2OCw2MC4wMzIsMzcuMDI0YzYuMTc2LDIuNTYsMTMuNTM2LDEuOTUyLDE4LjA0OC0yLjg0OGM1LjcyOC02LjE3NiwxMi44LTE2LjQxNiwyMC0yNi40OTYNCgljNS4xMi03LjIzMiwxMS41ODQtOC4xMjgsMTguMzY4LTUuNTY4YzYuOTEyLDIuNCw0My40ODgsMjAuNDgsNTEuMDA4LDI0LjIyNGM3LjUyLDMuNzc2LDEyLjQ4LDUuNTY4LDE0LjMwNCw4LjczNg0KCUM0MTEuMiwzMjkuMTUyLDQxMS4yLDM0NC4wMzIsNDA1LjAyNCwzNjEuNTA0eiIvPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="},"3a5e":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},o=[],s=a("2a19");let r=null,c=null;var n={openNotify(){r=s["a"].create({color:"primary",spinner:!0,message:"Por favor aguarde...",timeout:0})},openSuccess(e){c=s["a"].create({color:"green",spinner:!1,message:e,timeout:3e3})},closeNotify(){r()},closeSuccess(){c()}},l=n,u=a("2877"),g=Object(u["a"])(l,i,o,!1,null,null,null);t["a"]=g.exports},"3fb9":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},o=[],s=a("2a19");let r=null;var c={openNotify(e,t=0){r=s["a"].create({type:"negative",message:e,timeout:t})},closeNotify(){r()}},n=c,l=a("2877"),u=Object(l["a"])(n,i,o,!1,null,null,null);t["a"]=u.exports},9209:function(e,t,a){},9634:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("header-freight-journey"),i("q-card",{staticClass:"my-card q-mt-md"},[i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v("Viagem "+e._s(e.freight_journey.name))])]),i("q-card-section",{},[i("div",{staticClass:"row"},[i("div",{staticClass:" col-12 col-lg-6 q-mr-lg"},[i("q-img",{attrs:{src:e.imagePath}},[i("div",{staticClass:"absolute-bottom text-body1 text-center"},[e._v("\n                Foto do veículo que fará a viagem\n              ")])]),i("div",{staticClass:"q-mt-md"},[i("q-btn",{staticClass:"q-mr-md",attrs:{color:"secondary",icon:"edit",to:"/viagem/editar/"+e.freight_journey.id}},[e._v("Editar")]),i("q-btn",{attrs:{color:"negative",icon:"delete"},on:{click:function(t){e.confirm=!0}}},[e._v("Apagar")])],1)],1),i("div",{staticClass:"col-12 col-lg-4"},[i("div",{staticClass:"q-mb-md",staticStyle:{display:"inline-block"}},[null!=e.freight_journey.company_id?i("q-btn",{attrs:{color:"primary"}},[i("a",{staticClass:"img-link",attrs:{href:"https://wa.me/"+e.company.whatsapp+"?text=Olá"}},[i("q-img",{staticClass:"img-img-link",attrs:{src:a("3357")}})],1)]):e._e(),"fechado"==e.freight_journey.status.toLowerCase()?i("q-btn",{staticClass:"q-mx-sm",attrs:{label:"Viagem fechada"}}):e._e(),"fechado"!=e.freight_journey.status.toLowerCase()?i("q-btn",{staticClass:"q-mx-sm",attrs:{color:"secondary",icon:"close",label:"Fechar"},on:{click:function(t){e.closeFreightJouney=!0}}}):e._e(),i("q-btn",{attrs:{color:"secondary",to:"/carga",icon:"business_center",label:"Conectar carga"}})],1),i("div",{staticClass:"text-h5"},[e._v("Partida")]),e._v("\n           "+e._s(e.freight_journey.from_location)+"\n\n           "),i("div",{staticClass:"text-h5 q-mt-md"},[e._v("Destino")]),e._v("\n           "+e._s(e.freight_journey.to_location)+"\n\n           "),i("div",{staticClass:"text-h5 q-mt-md"},[e._v("Preço")]),e._v("\n           "+e._s(e.freight_journey.price_negotiate+" MT")+"\n            "),i("strong",[e._v(e._s(e.resultNegotiate))]),i("div",{staticClass:"text-h5 q-mt-md"},[e._v("Hora de partida")]),e._v("\n            "+e._s(e.freight_journey.from_date)+"\n\n            "),i("div",{staticClass:"text-h5 q-mt-md"},[e._v("Hora de chegada")]),e._v("\n            "+e._s(e.freight_journey.to_date)+"\n           "),i("div",{staticClass:"text-h5 q-mt-md"},[e._v("Capacidade máxima")]),e._v("\n           "+e._s(e.freight_journey.vehicle?e.freight_journey.vehicle.maximum_capacity+" KG":"Informação indisponível")+"\n          ")])])]),i("q-separator")],1),[i("q-dialog",{attrs:{persistent:""},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}},[i("confirm-delete-freight-journey-dialog",{attrs:{freightJourney:e.freight_journey}})],1)],[i("q-dialog",{model:{value:e.closeFreightJouney,callback:function(t){e.closeFreightJouney=t},expression:"closeFreightJouney"}},[i("confirm-close-freight-journey-dialog",{attrs:{freight_journey:e.freight_journey},on:{closeFreightJourneyEE:function(t){return e.closeFreightJouneyMethod()}}})],1)]],2)},o=[],s=a("0dce"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"delete",color:"primary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[e._v("Confirma que quer apagar esta viagem? ")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Sim",color:"primary"},on:{click:e.deleteVehicle}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Não",color:"primary"}})],1)],1)},c=[],n=a("3a5e"),l=a("3fb9"),u={props:["freightJourney"],methods:{deleteVehicle(){this.$axios.delete("/freight-journey/"+this.freightJourney.id).then((e=>{n["a"].openSuccess("Viagem apagada com sucesso",4e3),this.$router.push("/viagem"),console.log(e)})).catch((e=>{l["a"].openNotify("Houve um erro ao tentar apagar a viage,",5e3)}))}}},g=u,m=a("2877"),d=a("f09f"),M=a("a370"),y=a("cb32"),h=a("4b7e"),j=a("9c40"),N=a("7f67"),p=a("eebe"),v=a.n(p),C=Object(m["a"])(g,r,c,!1,null,null,null),L=C.exports;v()(C,"components",{QCard:d["a"],QCardSection:M["a"],QAvatar:y["a"],QCardActions:h["a"],QBtn:j["a"]}),v()(C,"directives",{ClosePopup:N["a"]});var f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"close",color:"primary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[e._v("Confirme que quer fechar essa viagem? ")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Sim",color:"primary"},on:{click:e.closeJourney}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Não",color:"primary"}})],1)],1)},D=[],_={props:["freight_journey"],methods:{closeJourney(){this.$axios.post("/freight-journey/global/close-journey",{freight_journey_id:this.freight_journey.id}).then((e=>{n["a"].openSuccess("Viagem fechada com sucesso",4e3),console.log("closeFreightJourneyEE",e),this.$router.push("/viagem/")})).catch((e=>{l["a"].openNotify("Houve um erro ao tentar fechar a viagem",5e3)}))}}},w=_,b=Object(m["a"])(w,f,D,!1,null,null,null),T=b.exports;v()(b,"components",{QCard:d["a"],QCardSection:M["a"],QAvatar:y["a"],QCardActions:h["a"],QBtn:j["a"]}),v()(b,"directives",{ClosePopup:N["a"]});var x={components:{HeaderFreightJourney:s["a"],ConfirmCloseFreightJourneyDialog:T,ConfirmDeleteFreightJourneyDialog:L},data(){return{confirm:!1,closeFreightJouney:!1,freight_journey:{name:"",description:"",from_location:"",to_location:"",from_date:"",to_date:"",truck_id:"",price_set:!0,price_negotiate:"",phone_journey:"",status:"",id:"",company_id:null,company:{},vehicle:{name:"",brand:"",model:"",maximum_capacity:"700",photo_path:null}},company:{},vehicle:{},file:null}},computed:{resultNegotiate(){return 1==this.freight_journey.price_set?"Negociável":"Não negociável"},imagePath(){return this.$apiPath+(this.freight_journey.vehicle?this.freight_journey.vehicle.photo_path:"img/truckstandard.jpg")}},methods:{closeFreightJouneyMethod(){console.log("afraid"),this.freight_journey.status="Fechado"}},created(){let e=location.href.split("/"),t=e[e.length-1];this.$axios.get("/freight-journey/"+t).then((e=>{this.freight_journey=e.data,console.log(this.freight_journey),this.vehicle=this.freight_journey.vehicle,this.$axios.get("/company/"+this.freight_journey.company_id).then((e=>{this.company=e.data,console.log(this.freight_journey)}))}))}},z=x,Q=(a("cbe9"),a("068f")),I=a("eb85"),q=a("24e8"),E=Object(m["a"])(z,i,o,!1,null,null,null);t["default"]=E.exports;v()(E,"components",{QCard:d["a"],QCardSection:M["a"],QImg:Q["a"],QBtn:j["a"],QSeparator:I["a"],QDialog:q["a"]})},cbe9:function(e,t,a){"use strict";a("9209")}}]);